---
layout: e0
permalink: 梗图
BeiJing: 0
BeiJing_SJ: 0
BiaoTi: 梗图
div0: 1
---
<style>
.按钮{margin:auto 0.6em;line-height:2em;padding:2px 6px;border:1.4px solid #bcbcbc;border-radius:6px;cursor:pointer}
.按钮:hover{border:1.4px solid #0084ff}
#dy{position:relative}
#dy img{position:absolute;top:0;left:0}
</style>

<style id="st"></style>
<div id="目录"></div><br>
<div id="dy_头"></div><br>
<div id="dy"></div>
<div id="dy_尾"></div>

<script>
let 测试="/i/w/梗图/";
let url=decodeURI(location.href);
if(url.indexOf("file:///")!=-1){测试=""};
if(url.indexOf("?")!=-1){url=url.split("?")[1]}else{url="目录"};
let 目录=[];
let 通用={
    "NFT":(a,b)=>{b=b||[".png","<div id='点'></div>"];a=["#点{position:absolute;width:100px;height:100px;top:200px;left:151px;background-color:#【1】}#描边{position:absolute;width:120px;height:120px;top:190px;left:141px;background-color:#123456}#dy{background-image:url('"+测试+"NFT_【2】.jpg');background-size:cover}#dy,#dy img{width:400px;height:400px}",["<small>绘："+a+"</small><br>",["1","点"],["2","选择","愚公移山","纯白背景"],"确定","/","保存图片"],"<div id='描边'></div>"];a.splice(2,0,...b);return a},//["作者",["<div></div>",".png"]] //[1]可留空
    "表情包":(a,b)=>{b=b||a;return ["#dy{width:"+a+"px;height:"+a+"px;background-color:#【1】}",[["1","点"],"确定","/","保存图片"],".png"];},//图片宽高 正方形只写一个
};
let d={
"目录":["目录",
"点点结局","兄弟，像素点不错","<br>",
"This is Fine","旋转像素点","彩虹猫","<br>",
"猫球UFO","<br>",
"普通表情包","配饰","可能引发不适",
],

"可能引发不适":["目录","蘑菇乐园"],

"配饰":["目录","<small>素材来自“‘伪·NFT’征稿活动”的网友投稿</small><br>",
"脸红_NFT","猫咪_NFT","对话框_NFT","白旗_NFT","快捷方式_NFT","加载中_NFT","魔法师_NFT","乌云_NFT","小白鸟_NFT","行星环_NFT","音符_NFT",
],

"普通表情包":["目录","<small>每个表情包都有深色背景和浅色背景两种，请根据你的需求选择。</small><br>","叹号:","浅_叹号","深_叹号"," /　问号:","浅_问号","深_问号"," /　流汗:","浅_流汗","深_流汗"],

/*

"":["目录","标题1","标题2","<span>文字（或不存在于d[]之内）"],

"":["#点1{position:absolute;width:154px;height:146px;top:248px;left:322px;background-color:#【1】}#dy{width:图片宽度px;height:图片高度px}",[                              //【0】=标题
        ["1","默认","提示文字"],
                                     // "默认"的预设（提示文字可留空）："点"是用户默认像素点颜色 / "描边"是像素点描边色
                                     // [1,"选择","选择1","选择2"]
        "直接显示文字，记得加<br>",
        "确定",                      //点击确定按钮
        "/",                         //后面的是 dy_尾
        "保存图片",
        //通常： <small>作者：xx</small><br> ["输入内容","",""] 确定 / 保存图片 <br><small>梗：xx</small>
],
"1.png","<div id='点'></div>","2.png"] //内容可以是.jpg 或 <div>其他元素</div>

图片名=标题 如果标题有空格，文件要删掉空格

"":["#点{position:absolute;width:96px;height:92px;top:155px;left:201px;background-color:#【1】}#dy{width:500px;height:500px}",[["1","点"],"确定","/","保存图片","<br><small>梗：</small>"],"<div id='点'></div>",".jpg"],

background-image:url('"+测试+"图.png');

*/

"点点结局":["#点{position:absolute;width:96px;height:92px;top:155px;left:201px;background-color:#【1】}#dy{width:500px;height:500px}",[["1","点"],"确定","/","保存图片","<br><small>梗：好结局坏结局</small>"],"<div id='点'></div>",".jpg"],
"兄弟，像素点不错":["#点{position:absolute;width:122px;height:122px;top:346px;left:398px;background-color:#【1】}#dy{width:583px;height:508px}",[["1","点"],"确定","/","保存图片","<br><small>梗：兄弟，猫不错</small>"],".png","<div id='点'></div>"],
"This is Fine":["#点{position:absolute;width:118px;height:121px;top:248px;left:176px;background-color:#【1】}#dy{width:500px;height:509px}",["<small>素材来源：K.C.Green «Gunshow»</small><br>",["1","点"],"确定","/","保存图片","<br><small>梗：This is Fine</small>"],"1.png","<div id='点'></div>","2.png"],
"蘑菇乐园":["#点{position:absolute;width:113px;height:113px;top:514px;left:473px;background-color:#【1】}#dy{width:1000px;height:667px}",[["1","点"],"确定","/","保存图片","<br><small>摄于长春</small>"],"<div id='点'></div>",".jpg"],
"猫球UFO":["#点{position:absolute;width:190px;height:190px;top:570px;left:145px;background-color:#【1】}#dy{width:600px;height:956px}",["<small>作者：莱斯哈耶</small><br>",["1","点"],"确定","/","保存图片"],".png","<div id='点'></div>"],
"彩虹猫":["#点{position:absolute;width:860px;height:530px;top:0px;left:0px;background-color:#【1】}#【0】{width:860px}#dy{width:860px;height:530px}",[["1","点"],"确定","/","<br><small>梗：彩虹猫</small>"],".gif","<div id='点'></div>"],

"旋转像素点":[`#背景{background-color:#03FF2D;width:800px;height:500px;display:flex;justify-content:center;align-items:center;margin:0;perspective:1200px}.cube{position:absolute;width:200px;height:200px;transform-style:preserve-3d;animation:spinAndFloat 4s linear infinite}.face{position:absolute;width:100%;height:100%;opacity:1;background:#【1】;border:2px solid #【2】}.front{transform:translateZ(100px)}.back{transform:rotateY(180deg) translateZ(100px)}.right{transform:rotateY(90deg) translateZ(100px)}.left{transform:rotateY(-90deg) translateZ(100px)}.top{transform:rotateX(90deg) translateZ(100px)}.bottom{transform:rotateX(-90deg) translateZ(100px)}@keyframes spinAndFloat{0%,50%{transform:scale(1.1) translateY(0) rotateY(0);animation-timing-function:ease-in}51%{transform:scale(0.8) translateY(0)}70%{transform:scale(0.8) translateY(-40px) rotateY(720deg)}90%{transform:scale(0.8) translateY(20px) rotateY(1080deg)}100%{transform:scale(0.8) translateY(0) rotateY(1440deg)}}#dy{width:800px;height:500px}`,[["1","点"],["2","描边"],"确定","/","<small>梗：旋转猫meme</small>"],"<div id='背景'><div class='cube'><div class='face front'></div><div class='face back'></div><div class='face right'></div><div class='face left'></div><div class='face top'></div><div class='face bottom'></div></div></div>"],

"深_叹号":通用["表情包"](536),
"浅_叹号":通用["表情包"](536),
"深_问号":通用["表情包"](536),
"浅_问号":通用["表情包"](536),
"深_流汗":通用["表情包"](296),
"浅_流汗":通用["表情包"](296),

"加载中_NFT":通用["NFT"]("mdyx3728"),
"白旗_NFT":通用["NFT"]("恒泽"),
"对话框_NFT":通用["NFT"]("恒泽"),
"快捷方式_NFT":通用["NFT"]("mdyx3728"),
"脸红_NFT":通用["NFT"]("恒泽"),
"猫咪_NFT":通用["NFT"]("恒泽"),
"魔法师_NFT":通用["NFT"]("深渊y"),
"乌云_NFT":通用["NFT"]("恒泽"),
"小白鸟_NFT":通用["NFT"]("晴影"),
"行星环_NFT":通用["NFT"]("恒泽"),
"音符_NFT":通用["NFT"]("恒泽"),



}

let 点数,输入;
let 颜色=localStorage.getItem("像素点")||"000000";
let 描边=localStorage.getItem("像素点描边")||"FFFFFF";
function 打开(o){
    let 去空=o.replace(new RegExp(' ',"g"),"");
    点数=[o],输入={0:d[o][0].replace(new RegExp('【0】',"g"),去空)};
    目录=d[o];
    if(目录[0]=="目录"){
        let dy="";
        for(let i=0;目录.length>i;i++){if(i==0&&o=="目录"){}else if(目录[i][0]=="<"||!d[目录[i]]){dy+=目录[i]}else{
            if(d[目录[i]][0]=="目录"){dy+="<span class='按钮' onclick=\"打开('"+目录[i]+"')\"><b>"+目录[i].split("_")[0]+"</b></span>"}
            else{dy+="<span class='按钮' onclick=\"打开('"+目录[i]+"')\">"+目录[i].split("_")[0]+"</span>"}
        }
        }
        document.getElementById("目录").innerHTML=dy;
        document.getElementById("dy").innerHTML="";
        document.getElementById("dy_头").innerHTML="";
        document.getElementById("dy_尾").innerHTML="";
        document.getElementById("st").innerHTML="";
    }else{
        let dy="";
        for(let i=d[o].length-1;i>1;i--){
            if(d[o][i].endsWith(".jpg")||d[o][i].endsWith(".png")||d[o][i].endsWith(".gif")){dy+="<img id='"+去空+"' src='"+测试+去空+d[o][i]+"'>";
            }else{dy+=d[o][i]}
        }
        document.getElementById("dy").innerHTML=dy;
        dy=[""];

    for(let i=0;d[o][1].length>i;i++){
    if(Array.isArray(d[o][1][i])){//数组
        if(d[o][1][i][1]=="选择"){
            点数[点数.length]=["选择",d[o][1][i][0]];
            dy[dy.length-1]+="<form>";
            for(let k=2;d[o][1][i].length>k;k++){
                dy[dy.length-1]+="<input type='radio' id='x"+i+"_"+k+"' name='x"+d[o][1][i][0]+"' value='"+d[o][1][i][k]+"'";
                if(k==2){dy[dy.length-1]+=" checked"}
                dy[dy.length-1]+="><label for='x"+i+"_"+k+"'>"+d[o][1][i][k]+"</label>";
            }
            dy[dy.length-1]+="<form>";
            输入[d[o][1][i][0]]=d[o][1][i][2];

        }else{
            点数[点数.length]=d[o][1][i][0];
            if(d[o][1][i][1]=="点"){d[o][1][i][1]=颜色;d[o][1][i][2]=d[o][1][i][2]||"像素点编号 如C77232"}
            if(d[o][1][i][1]=="描边"){d[o][1][i][1]=描边;d[o][1][i][2]=d[o][1][i][2]||"描边颜色 如FFFFFF"}
            dy[dy.length-1]+="<input type='text' placeholder='"+d[o][1][i][2]+"' autocomplete='off' id='输入"+d[o][1][i][0]+"'>";
            输入[d[o][1][i][0]]=d[o][1][i][1];
        }

        }else{//文字
            if(d[o][1][i]=="/"){
                dy[1]="";
            }else if(d[o][1][i]=="保存图片"){
                dy[dy.length-1]+="<a onclick='截图()'>保存图片</a>"
            }else if(d[o][1][i]=="确定"){
                dy[dy.length-1]+="<br><a onclick='确定()'>更换</a>";
            }else{
                dy[dy.length-1]+=d[o][1][i];
            }
        }
    }
        document.getElementById("dy_头").innerHTML=dy[0];
        if(dy[1]){document.getElementById("dy_尾").innerHTML=dy[1]}
        
        dy=输入[0];
        for(let i=1;点数.length>i;i++){
            if(Array.isArray(点数[i])){
                if(点数[i][0]=="选择"){
                    dy=dy.replace(new RegExp('【'+点数[i][1]+'】',"g"),输入[i])
                }
            }else{
                dy=dy.replace(new RegExp('【'+点数[i]+'】',"g"),输入[i])
            }
        }
        document.getElementById("st").innerHTML=dy
    }
}

function 确定(){
    let dy=输入[0];
    for(let i=1;点数.length>i;i++){
        if(Array.isArray(点数[i])){
            if(点数[i][0]=="选择"){
                输入[i]=document.querySelector("input[name='x"+点数[i][1]+"']:checked").value||输入[i];
                dy=dy.replace(new RegExp('【'+点数[i][1]+'】',"g"),输入[i]);
            }
        }else{
            输入[i]=document.getElementById("输入"+i).value||输入[i];
            dy=dy.replace(new RegExp('【'+点数[i]+'】',"g"),输入[i]);
        }
    }
    document.getElementById("st").innerHTML=dy
}

打开(url);
</script>

<script src="/i/5/new_html2canvas.js"></script>
<script>
function 截图(){
const element=document.getElementById('dy');
const devicePixelRatio=window.devicePixelRatio||1;
const scale=Math.min(2,devicePixelRatio);

const options={
logging:true,
useCORS:true,
allowTaint:false,
scale:scale,
width:element.offsetWidth,
height:element.offsetHeight,
backgroundColor:null,
onclone:(clonedDoc)=>{
    const cloneElement=clonedDoc.getElementById('dy');
    if(cloneElement){
        cloneElement.style.cssText+=`
            transform:translateZ(0) !important;
            image-rendering:-webkit-optimize-contrast !important;
            text-rendering:optimizeLegibility !important;
        `;
    }
}
};

html2canvas(element,options).then(canvas=>{
    const ctx=canvas.getContext('2d');
    ctx.imageSmoothingEnabled=false;
    ctx.mozImageSmoothingEnabled=false;
    ctx.webkitImageSmoothingEnabled=false;
    const imgData=canvas.toDataURL('image/png',1.0);

    const link=document.createElement('a');
    const formattedDateTime=((d)=>`${d.getFullYear()}${(d.getMonth()+1+'').padStart(2,'0')}${(d.getDate()+'').padStart(2,'0')} ${d.getHours().toString().padStart(2,'0')}${d.getMinutes().toString().padStart(2,'0')}${d.getSeconds().toString().padStart(2,'0')}`)(new Date())
    link.download=formattedDateTime+'.png';
    link.href=imgData;

    link.click();
    URL.revokeObjectURL(link.href)
}).catch(error=>{
    try{notyf.alert("存图失败")}catch(e){alert("存图失败")}
})
};
</script>

